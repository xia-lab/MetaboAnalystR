:root{
  --ds-pad: 0.75rem;
  --ds-toolbar-h: 42px;   /* was 56px */
  --ds-card-min-h: 280px; /* was 300px */
}

/* Stretch cards to equal height within the grid */
.cards-grid{ align-items: stretch; }
.cards-grid > *{ height: 100%; }

/* Card container: reserve space for sticky toolbar */
.ds-card{
  position: relative !important;
  min-height: var(--ds-card-min-h) !important;
  padding: var(--ds-pad) !important;
  padding-bottom: calc(var(--ds-pad) + var(--ds-toolbar-h)) !important;
}

/* Fieldset content behaves like scrollable body area */
.ds-card .ui-fieldset-content{
  overflow: auto !important;
  padding: 0 !important;
}

/* Sticky toolbar anchored to the bottom of the card */
.ds-card .dataset-toolbar,
.ds-card .ui-toolbar.dataset-toolbar{
  position: absolute !important;
  left: var(--ds-pad) !important;
  right: var(--ds-pad) !important;
  bottom: var(--ds-pad) !important;
  margin: 0 !important;
  padding: .4rem .6rem !important;      /* tighter padding */
  background: var(--surface-card, #fff) !important;
  border-top: 1px solid rgba(0,0,0,.06) !important;
  box-shadow: 0 -2px 10px rgba(0,0,0,.05) !important;
  z-index: 1;
  min-height: var(--ds-toolbar-h);
  display: flex;
  justify-content: space-between;
  gap: .5rem;                            /* was 1rem */
}

/* Make toolbar groups flex rows with consistent spacing */
.ui-toolbar.dataset-toolbar .ui-toolbar-group-left,
.ui-toolbar.dataset-toolbar .ui-toolbar-group-right{
  display: flex;
  align-items: center;
  gap: 8px;                              /* was 12px */
}

/* Smaller clickable area for links */
.ui-toolbar.dataset-toolbar .ui-commandlink{
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 32px;                           /* was 40px */
  height: 32px;                          /* was 40px */
  border-radius: 8px;
  text-decoration: none;
  transition: transform .06s ease, background-color .12s ease;
}

/* Icons slightly smaller */
.ui-toolbar.dataset-toolbar i{
  font-size: 1.1rem !important;          /* was 1.35rem */
  line-height: 1;
  vertical-align: middle;
  color: inherit;
}

/* Hover/active feedback (subtle) */
.ui-toolbar.dataset-toolbar .ui-commandlink:hover{
  background: rgba(0,0,0,.05);
}
.ui-toolbar.dataset-toolbar .ui-commandlink:active{
  transform: scale(0.985);
}

/* Compact on very small widths */
@media (max-width: 520px){
  .ui-toolbar.dataset-toolbar{
    padding: .35rem .5rem !important;
    gap: .4rem;
  }
  .ui-toolbar.dataset-toolbar .ui-commandlink{
    width: 30px;
    height: 30px;
  }
  .ui-toolbar.dataset-toolbar i{
    font-size: 1.05rem !important;
  }
}

/* Touch devices: keep a bit larger but still tighter than before */
@media (pointer: coarse){
  .ui-toolbar.dataset-toolbar .ui-commandlink{
    width: 36px;                         /* was 44px */
    height: 36px;
  }
  .ui-toolbar.dataset-toolbar i{
    font-size: 1.2rem !important;        /* was 1.45rem */
  }
}

/* GRID LAYOUT â€” put this back */
.cards-grid{
  display: grid;
  grid-template-columns: repeat(3, minmax(0, 1fr)); /* 3 columns */
  gap: 1rem;
}

/* Responsive breakpoints (optional) */
@media (max-width: 1400px){
  .cards-grid{ grid-template-columns: repeat(3, 1fr); } /* keep 3 if you want */
}
@media (max-width: 1000px){
  .cards-grid{ grid-template-columns: repeat(2, 1fr); }
}
@media (max-width: 700px){
  .cards-grid{ grid-template-columns: 1fr; }
}

/* You can keep your existing rules below */
.cards-grid{ align-items: stretch; }
.cards-grid > *{ height: 100%; }


/* Card container */
.wf-card{
  position: relative !important;
  min-height: var(--wf-card-min-h) !important;
  padding: var(--wf-pad) !important;
  padding-bottom: calc(var(--wf-pad) + var(--wf-toolbar-h)) !important;
}

/* Scrollable body area */
.wf-card .ui-fieldset-content{
  overflow: auto !important;
  padding: 0 !important;
}

/* Sticky toolbar anchored to bottom */
.wf-card .dataset-toolbar,
.wf-card .ui-toolbar.dataset-toolbar{
  position: absolute !important;
  left: var(--wf-pad) !important;
  right: var(--wf-pad) !important;
  bottom: var(--wf-pad) !important;
  margin: 0 !important;
  padding: .35rem .55rem !important;    /* a touch tighter than ds-card */
  background: var(--surface-card, #fff) !important;
  border-top: 1px solid rgba(0,0,0,.06) !important;
  box-shadow: 0 -2px 10px rgba(0,0,0,.05) !important;
  z-index: 1;
  min-height: var(--wf-toolbar-h);
  display: flex;
  justify-content: space-between;
  gap: .5rem;
}

/* Same compact icon layout as ds-card */
.wf-card .ui-toolbar.dataset-toolbar .ui-toolbar-group-left,
.wf-card .ui-toolbar.dataset-toolbar .ui-toolbar-group-right{
  display: flex;
  align-items: center;
  gap: 8px;
}

.wf-card .ui-toolbar.dataset-toolbar .ui-commandlink{
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 30px;                          /* slightly smaller than ds-card */
  height: 30px;
  border-radius: 8px;
  text-decoration: none;
  transition: transform .06s ease, background-color .12s ease;
}

.wf-card .ui-toolbar.dataset-toolbar i{
  font-size: 1.05rem !important;
  line-height: 1;
  vertical-align: middle;
  color: inherit;
}

.wf-card .ui-toolbar.dataset-toolbar .ui-commandlink:hover{
  background: rgba(0,0,0,.05);
}
.wf-card .ui-toolbar.dataset-toolbar .ui-commandlink:active{
  transform: scale(0.985);
}

/* Optional: keep touch targets reasonable on touch devices */
@media (pointer: coarse){
  .wf-card .ui-toolbar.dataset-toolbar .ui-commandlink{
    width: 34px;
    height: 34px;
  }
  .wf-card .ui-toolbar.dataset-toolbar i{
    font-size: 1.15rem !important;
  }
}