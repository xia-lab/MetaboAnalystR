<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:p="http://primefaces.org/ui">

    <div style="text-align: right; margin-bottom: 10px;">
        <p:commandButton value="Download" ajax="false" 
                         onclick="PrimeFaces.monitorDownload(start, stop);"   
                         icon="pi pi-download">  
            <p:fileDownload value="#{integResBean.downloadPathwayFile}"/>  
        </p:commandButton> 
    </div>

    <p:dataTable rows="10" rowsPerPageTemplate="10,20,50" paginator="true" id="resTbl" paginatorPosition="bottom"
                 class="surface-card shadow-1 p-0 text-800"
                 style="width:95%; font-size: 12px" var="pab" value="#{integResBean.paBeans}">
        <p:column headerText="Pathway Name" width="320px">
            <p:commandLink value="#{pab.setName}" onclick="renderPath('#{pab.setName}')" update=":hisTab:cmdPane"/>
        </p:column>
        <p:column headerText="#{integResBean.hitsHeader}"> 
            <p:commandLink value="#{pab.match}" update=":detailView" oncomplete="PF('msetDialog').show()">  
                <f:setPropertyActionListener value="#{pab.setName}" target="#{sessionBean1.currentPathName}"/>
            </p:commandLink>
        </p:column>
        <p:column rendered="#{integProcesser.datatype eq 'peak'}"
                  headerText="p compound">  
            <h:outputText escape="false" value="#{pab.pcmpd}"/>
        </p:column>
        <p:column rendered="#{integProcesser.datatype eq 'peak'}"
                  headerText="p gene/protein">  
            <h:outputText escape="false" value="#{pab.pgene}"/>
        </p:column>
        <p:column rendered="#{integProcesser.datatype eq 'peak'}"
                  headerText="p merged">  
            <h:outputText escape="false" value="#{pab.PVal}"/>
        </p:column>
        <p:column rendered="#{integProcesser.datatype ne 'peak'}"
                  headerText="p value">  
            <h:outputText escape="false" value="#{pab.PVal}"/>
        </p:column>
        <p:column headerText="-log(p)">  
            <h:outputText escape="false" value="#{pab.logP}"/>
        </p:column>  
        <p:column headerText="Holm p">  
            <h:outputText escape="false" value="#{pab.holmPval}"/>
        </p:column>  
        <p:column headerText="FDR">  
            <h:outputText escape="false" value="#{pab.fdrPval}"/>
        </p:column>  
        <p:column rendered="#{integProcesser.datatype ne 'peak'}" 
                  headerText="Impact">  
            <h:outputText escape="false" value="#{pab.impVal}"/>
        </p:column> 
        <p:column headerText="Link">  
            <h:outputText escape="false" value="#{pab.details}"/>
        </p:column>   
    </p:dataTable>   

</ui:composition>

